define("aiplacement_callextensions/placement",["exports","core/copy_to_clipboard","core/notification","aiplacement_callextensions/form_wizard","core/str"],(function(_exports,_copy_to_clipboard,_notification,_form_wizard,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_notification=_interopRequireDefault(_notification),_form_wizard=_interopRequireDefault(_form_wizard);var _default=class{constructor(actionButtonSelector){_defineProperty(this,"contextId",void 0),_defineProperty(this,"currentAction",void 0),_defineProperty(this,"currentActionData",void 0),_defineProperty(this,"currentGeneratedContent",void 0),this.actionButton=document.querySelector(actionButtonSelector),this.actionButton&&(this.contextId=this.actionButton.dataset.contextid?parseInt(this.actionButton.dataset.contextid,10):0,this.registerEventListeners())}registerEventListeners(){this.actionButton&&this.actionButton.addEventListener("click",(async event=>{event.preventDefault(),this.handleFormNavigation(1)}))}handleFormNavigation(step){const wizard=new _form_wizard.default({modalConfig:{title:(0,_str.getString)("wizardtitle","aiplacement_callextensions")},formClass:"aiplacement_callextensions\\form\\mod_assist_action_form",args:{action:this.actionButton.dataset.aiAction,component:this.actionButton.dataset.component,cmid:this.actionButton.dataset.cmid,step:step},saveButtonText:(0,_str.getString)("next","aiplacement_callextensions")});wizard.addEventListener(wizard.events.FORM_SUBMITTED,(event=>{event.detail.result?this.handleFormNavigation(event.detail.actiondata.step):_notification.default.addNotification({type:"error",message:event.detail.errors.join("<br>")})})),wizard.show()}isAIDrawerOpen(){return this.aiDrawerElement.classList.contains("show")}openAIDrawer(){this.aiDrawerElement.classList.add("show")}closeAIDrawer(){this.aiDrawerElement.classList.remove("show")}toggleAIDrawer(){this.isAIDrawerOpen()?this.closeAIDrawer():this.openAIDrawer()}clearActions(){this.aiDrawerBodyElement.dataset.currentAction="",this.aiDrawerBodyElement.dataset.currentActionData=""}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=placement.min.js.map